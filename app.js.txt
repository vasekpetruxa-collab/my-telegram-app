// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram Web App
let tg = window.Telegram.WebApp;

// –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ—Å–Ω–æ–≤–Ω—É—é –∫–Ω–æ–ø–∫—É
tg.expand();
tg.MainButton.setText("–ì–æ—Ç–æ–≤–æ").show();

// –§—É–Ω–∫—Ü–∏—è –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É
function sendMessage() {
    document.getElementById('result').innerHTML = 
        "üéâ –£—Ä–∞! –¢—ã –Ω–∞–∂–∞–ª –Ω–∞ –∫–Ω–æ–ø–∫—É! " + 
        "<br><br>" +
        "–¢–≤–æ–π ID: " + tg.initDataUnsafe.user.id;
    
    // –ú–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ–±—Ä–∞—Ç–Ω–æ –≤ –±–æ—Ç–∞
    tg.sendData(JSON.stringify({
        action: "button_clicked",
        timestamp: new Date().toISOString()
    }));
}

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞–∂–∞—Ç–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–Ω—É—é –∫–Ω–æ–ø–∫—É
tg.MainButton.onClick(function() {
    tg.close();
});